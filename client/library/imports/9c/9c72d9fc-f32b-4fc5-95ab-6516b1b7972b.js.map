{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var manager = require('manager');\nconst KQCard = require('KQCard');\nconst Socket = require('socket');\nconst KQCardFindTypeExtension = require('KQCardFindTypeExtension');\nconst KQGlobalEvent = require('KQGlobalEvent');\nconst AudioManager = require('AudioManager');\nconst KQNativeInvoke = require('KQNativeInvoke');\nconst KQGlabolSocketEventHander = require('KQGlabolSocketEventHander');\n\nvar APPID = 'wxe8993f468b16fa5d';\nvar ROOMID = '';\n//授权地址\n//正式地址\n// var REDIRECT_URI = \"http%3A%2F%2Fwww.honggefeng.cn%2FsszWeb%2Findex.php\";\n// 测试地址\nvar REDIRECT_URI = \"http%3a%2f%2fo1o2.cn\";\n\nlet HREF = \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\"+APPID+\"&redirect_uri=\"+REDIRECT_URI+\"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\";\n\ncc.Class({\n\n    extends: cc.Component,\n    properties: {\n        //selectNode:cc.Node,\n        alertPrefab:cc.Prefab,\n        canvasNode:cc.Node,\n        loadingNode:cc.Node,\n        //err:cc.Node,\n        waitingPrefab:cc.Prefab,\n        recordInfo:cc.Prefab,\n        label:cc.Label,\n    },\n\n    goUpdateAction:function() {\n        if (KQNativeInvoke.isNativeIOS()) {\n            jsb.reflection.callStaticMethod(\"AppController\",\"downloadNewVersion:\",this.iosUrl);\n        }\n        else {//Android\n            jsb.reflection.callStaticMethod(\"com/gongpa/ssz/AppActivity\", \"downloadNewVersion\", \"(Ljava/lang/String;)V\", this.androidUrl);\n        }\n    },\n\n    checkVersion:function(vData) {\n        //var version = vData.version;\n        cc.info1 = vData.version;\n        this.iosUrl = vData.iosUrl;\n        this.androidUrl = vData.androidUrl;\n        //if (manager.version != version) {//更新版本\n        //    this.versionEnable = false;\n        //    this.goUpdateAction();\n        //    //this.versionLabel.string = '请到服务器更新到最新版本';\n        //}\n        //else {\n            //this.versionLabel.string = '当前版本 ' + manager.version;\n            if(KQNativeInvoke.isNativeIOS()) {\n                // if(iosVersion != manager.version) {\n                //     this.versionEnable = false;\n                //     var updateAlert = cc.find(\"Canvas/update\").getComponent(\"alert\");\n                //     updateAlert.alert();\n                // }\n                // else {\n                    this.versionEnable = true;\n                    var self = this;\n                    var info = manager.getUserInfo();\n                    if (info.length == 0) {\n                        this.loginEnable = true;\n                    }\n                    this.scheduleOnce(function(){\n                        if (info.length > 0) {\n                            this.loginEnable = true;\n                            self.loginAction();\n                        }\n                    },0.5);\n                //}\n            }\n            else if(KQNativeInvoke.isNativeAndroid()) {\n                // if(androidVersion != manager.version) {\n                //     this.versionEnable = false;\n                //     var updateAlert = cc.find(\"Canvas/update\").getComponent(\"alert\");\n                //     updateAlert.alert();\n                // }\n                // else {\n                    this.versionEnable = true;\n                    var self = this;\n                    var info = manager.getUserInfo();\n                    if (info.length == 0) {\n                        this.loginEnable = true;\n                    }\n                    this.scheduleOnce(function(){\n                        if (info.length > 0) {\n                            this.loginEnable = true;\n                            self.loginAction();\n                        }\n                    },0.5);\n                //}\n            }\n            else{\n              this.versionEnable = true;\n              var self = this;\n              // var info = manager.getUserInfo();\n              // if (info.length == 0) {\n              //     this.loginEnable = true;\n              // }\n              this.scheduleOnce(function(){\n                  if(!cc.sys.isNative){\n                      var recordId = self.getQueryString('recordId');\n                      if(recordId){\n                        Socket.sendGetRecrodFromId(recordId);\n                        return;\n                      }\n                      var roomId = self.getQueryString(\"roomId\");\n                      if(roomId){\n                          var info = manager.getUserInfo();\n                          if (info.length > 0) {\n                            var data = JSON.parse(info);\n                            if(!data.errcode){\n                              self.sendLoginRequest(data);\n                            }else{\n                              manager.setUserInfo(\"\");\n                            }\n                            return;\n                          }else{\n                            self._get_HREF(roomId);\n                          }\n                      }\n                  }\n                  var info = manager.getUserInfo();\n                  if (info.length > 0) {\n                    var data = null;\n                    try {\n                      data = JSON.parse(info);\n                    }\n                    catch (e){\n                      manager.setUserInfo(\"\");\n                      data = null;\n                    }\n                    if(!data || data.errcode){\n                      manager.setUserInfo(\"\");\n                    }else{\n                      this.loginEnable = true;\n                      self.loginAction();\n                    }\n                  }\n                  else{\n                    if(!cc.sys.isNative){\n                        var code = self.getQueryString(\"code\");\n                        var roomId = self.getQueryString(\"roomId\");\n                        if( roomId ){\n                            var info = manager.getUserInfo();\n                            if (info.length > 0) {\n                              var data = JSON.parse(info);\n                              if(!data.errcode){\n                                self.sendLoginRequest(data);\n                              }else{\n                                manager.setUserInfo(\"\");\n                              }\n                              return;\n                            }else{\n                              self._get_HREF(roomId);\n                            }\n                        }\n                        if( code ){\n                            try{\n                                var obj = new XMLHttpRequest();  // XMLHttpRequest对象用于在后台与服务器交换数据\n                                var url = \"./get_token.php\";       \n                                obj.open(\"POST\", url, true);\n                                obj.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");  // 添加http头，发送信息至服务器时内容编码类型\n                                obj.onreadystatechange = function() {\n                                  if (obj.readyState == 4 && (obj.status == 200 || obj.status == 304)) {  // 304未修改\n                                      //alert(obj.responseText);\n                                      var data = JSON.parse( obj.responseText );\n                                      if(!data.errcode){\n                                          manager.setUserInfo( obj.responseText );\n                                          self.sendLoginRequest( data );\n                                      }\n                                  }\n                                };\n                                obj.send(\"code=\"+code);\n                            }catch(e){\n                                //alert(e);\n                            }\n                        }\n                    }\n                  }\n              },0.5);\n            }\n        //}\n    },\n    keyBackListen:function () {\n        var _this = this;\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e) {\n            if(e.keyCode == cc.KEY.back) {\n                if(!KQNativeInvoke.isNativeIOS()){\n                    jsb.reflection.callStaticMethod(KQNativeInvoke.ANDRIODClassName, \"backToDesk\", \"()V\");\n                }\n            }\n        },this);\n    },\n    onLoad: function () {\n        this.keyBackListen();\n        if(!cc.sys.isNative && cc.sys.isMobile){\n            var canvas = cc.find(\"Canvas\");\n            var cvs = canvas.getComponent(cc.Canvas);\n        }\n        KQGlabolSocketEventHander.start();\n        this.socket = cc.find('GameSocket').getComponent('socket');\n        var self = this;\n        this.loginEnable = false;\n        this.socket.receviceMessage = function(response) {\n            var data = JSON.parse(response);\n            //console.log(data)\n            if (data.action == 'checkVersion') {\n              try{\n                self.checkVersion(data.data);\n              }catch(e){\n                //this.err.string = e;\n              }\n            }\n            else if (data.action == 'login') {\n               if (data.result) {//成功\n                   self.socket.userInfo = data.data;//运行时态信息\n                   if(!cc.sys.isNative){\n                      var roomId = self.getQueryString(\"roomId\");\n                      //console.log(roomId);\n                      if(roomId){\n                        var userId = data.data.id;\n                        var exitInRoom = data.data.roomId;\n                        if(exitInRoom != \"\"){\n                          roomId = exitInRoom;\n                        }\n                        Socket.sendLoginJoin(roomId, userId);\n                        return;\n                      }\n                    }\n                    self._loadingLabel(\"登录中\");\n                   if (data.data.roomId.length > 0) {\n                        cc.director.loadScene('play');\n                   }\n                   else {\n                        cc.director.loadScene('hall');\n                   }\n               }\n               else {\n                  // self.alertMessage('登录失败!');\n               }\n           }\n        };\n        this._registerSocketEvent();\n\n        this.socket.getWxInfo = function(info) {\n           manager.setUserInfo(info);//保存本地\n           var data = JSON.parse(info);//str -> json(obj)\n           self.scheduleOnce(function(){//延迟执行 1s\n               self.sendLoginRequest(data);//登录请求\n           },1);\n        };\n    \n        // let search = window.location.search;\n        // var openid = \"JzIwMTcvNi8xNiDkuIrljYgxMMzowOCc=\";\n        // var unionid = '8dOtAcDic5Sichv3lxtMXYJgmunTLOLv';\n        // var nickname = \"哇哈哈\";\n        // if (search) {\n        //     var url = window.location.search;\n        //     var loc = url.substring(url.lastIndexOf('=') + 1, url.length);\n        //     if (loc == 1) {\n        //         openid = 'JzIwMTctNi0xNiAwOTo0NTo1OSc=';\n        //         unionid = 'JzIwMTctNi0xNiAwOTo0NTo1OSc';\n        //         nickname = loc;\n        //     }\n        //     else if (loc == 2) {\n        //         openid = 'JzIwMTcvNi8xNiDkuIrljYg5OjM4OjMzJw==';\n        //         unionid = 'JzIwMTcvNi8xNiDkuIrljYg5OjM4OjMzJw';\n        //         nickname = loc;\n        //     }\n        //     else if (loc == 3) {\n        //         openid = 'JzIwMTctNi0xNiAwOTo0NToc=';\n        //         unionid = '8dOtAcDic5Sichv3lxtMXYmunTLOLv';\n        //         nickname = loc;\n        //     }\n        //     else if (loc == 4) {\n        //         openid = 'ozlXIwgv_QJT0ykdUihaABmsWp2A';\n        //         unionid = 'o-3911qWsQsW3wUodqFfUtbsAeNk';\n        //         nickname = loc;\n        //     }\n        //     else if (loc == 5) {\n        //         openid = 'JzIwMTcvNi8xNiDkuIrljYgxMDowMzowOCc=';\n        //          unionid = 'o-JzIwMTcvNi8xNiDkuIrljYgxMDowM';\n        //         nickname = loc;\n        //     }else if(loc == 6){\n        //         openid = 'JzIwMTcvNi8xNiDkuIrljYgxMMzoc=';\n        //          unionid = 'o-zIwMTcvNi8xNiDkuIrl';\n        //         nickname = loc;\n        //     }\n           \n        // }\n        // var testData = '{\"openid\":\"'+openid+'\",\"nickname\":\"'+nickname+'\",\"unionid\":\"'+unionid+'\",\"sex\":1,\"language\":\"zh_CN\",\"city\":\"Changsha\",\"province\":\"Hunan\",\"country\":\"CN\",\"headimgurl\":\"http:\\/\\/wx.qlogo.cn\\/mmopen\\/8D8dOtAcDic5Sichv3lxtMXYJgmunTLOLvTT5AFM4zaqKEthZibv8xdWkgjN9Yb4AQnwvSurz27UB29xx81XORwx55XanxqctdD\\/0\",\"privilege\":[]}';\n\n        // if (!cc.sys.isNative){\n        //     manager.setUserInfo(testData);\n        // }\n    },\n\n     _registerSocketEvent:function(){\n        KQGlobalEvent.on(Socket.Event.ReceiveLoginJoin, this._LoginJoin, this);\n        KQGlobalEvent.on(Socket.Event.ReceiveRecordId, this._ReceiveRecordId, this);\n        KQGlobalEvent.on(Socket.Event.ReceiveNoUionid, this._ReceiveNoUionid, this);\n    }, \n    _get_HREF:function(roomId){\n      if(roomId != ROOMID){\n        ROOMID = roomId;\n        roomId = \"%3froomId%3d\"+roomId ;\n        REDIRECT_URI = REDIRECT_URI+roomId;\n        HREF = \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\"+APPID+\"&redirect_uri=\"+REDIRECT_URI+\"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\";\n      }\n    },\n    _ReceiveNoUionid:function(response){\n      manager.setUserInfo(\"\");\n      var self = this;\n      var roomId = this.getQueryString(\"roomId\");\n      if(roomId){\n        //roomId = \"%3froomId%3d\"+roomId ;\n        //REDIRECT_URI = REDIRECT_URI+roomId;\n        this._get_HREF(roomId);\n      }\n      setTimeout(function(){\n        self.loadingNode.parent.active = false;\n        self.loadingNode.stopAllActions();\n      },2000)\n      this._loadingLabel(\"登录失败，请重新登录\");\n    },\n    _ReceiveRecordId:function(response){\n        var data = response.data;\n        if(data.recordMsg.length>0){\n          var record = data.recordMsg[0];\n          var playersInfo = JSON.parse(record.playersInfo).players;\n          var recordNode = cc.instantiate(this.recordInfo);\n          let totalGameResult = recordNode.getComponent(\"TotalGameResult\");\n          playersInfo.sort(function(a,b){return b.totalScore-a.totalScore});  // 排序\n          totalGameResult.setPlayerInfos(playersInfo,record);\n          totalGameResult._clickBtn();\n          recordNode.getComponent('alert').alert();\n          this.node.addChild(recordNode);\n        }\n    },\n    _LoginJoin: function(response){\n        this._loadingLabel(\"进入房间，正在为您请求数据\");\n        if (response.result){\n            if(cc.from == null) {\n                cc.from = {};\n            }\n            cc.from.ma = response.data.maPai;\n            cc.director.loadScene('play');\n        } else {\n            cc.joinDesk = {};\n            cc.director.loadScene('hall');\n            let reasonInfo = this._joinReasonMap(response.data.reason);\n            cc.joinDesk.result = response.result;\n            cc.joinDesk.reason = reasonInfo;\n        }\n    },\n    _joinReasonMap: function (reason) {\n      let reasonInfo = {\n        notExist: \"房间不存在!\",\n        cardNumber: \"您房卡不足!\",\n      };\n      let info = reasonInfo[reason] || \"房间已满!\";\n      return info;\n    },\n\n    getQueryString: function(name){\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\"); \n        var r = window.location.search.substr(1).match(reg); \n        if (r != null) return unescape(r[2]); return null; \n    },\n\n    agreements: function () {\n        this.agreementNode.active = true;\n        //this.agreementLabel.string = cc.info1;\n        this.agreementLabel.node.y = 0;\n    },\n\n    onDestroy: function () {\n      this.socket.receviceMessage = function () {};\n    },\n\n    _loadingLabel:function(label){\n        this.label.string = label;\n    },\n\n    sendLoginRequest:function(data) {\n        //this.showWaitingMessage('登录中...');\n        this.loadingNode.parent.active = true;\n        this.loadingNode.runAction(cc.repeatForever(cc.rotateBy(2, 360)));\n        //return;\n        this.socket.sendMessage('login',data);\n    },\n\n    loginAction:function() {\n        var info = manager.getUserInfo();\n        if (info.length > 0) {\n          var data = JSON.parse(info);\n          this.sendLoginRequest(data);\n          return;\n        }\n        if (!cc.sys.isNative){\n            // cc.sys.openURL(HREF);\n            window.location.href = HREF;\n        }else{\n          if (KQNativeInvoke.isNativeIOS()) {\n            jsb.reflection.callStaticMethod(KQNativeInvoke.IOSClassName,\"wxLogin\");//IOS\n          } else if (KQNativeInvoke.isNativeAndroid()) {//Android\n            jsb.reflection.callStaticMethod(KQNativeInvoke.ANDRIODClassName, \"wxLogin\", \"()V\");\n          }\n        }\n        \n    },\n\n    loginYkAction:function() {\n        //var comp = this.selectNode.getComponent('select');\n        //if (!comp.selected) {\n        //    this.showMsg = cc.instantiate(this.alertPrefab);\n        //    this.canvasNode.addChild(this.showMsg);\n        //    let comp = this.showMsg.getComponent('alert');\n        //    comp.setMessage('请同意用户协议');\n        //    return;\n        //}\n        var testDate = new Date();\n        var time = \"'\"+testDate.toLocaleString()+\"'\";\n        var openid = new Buffer(time).toString('base64');\n        var testData = '{\"openid\":\"'+openid+'\",\"nickname\":\"游客\",\"sex\":1,\"language\":\"zh_CN\",\"city\":\"Changsha\",\"province\":\"Hunan\",\"country\":\"CN\",\"headimgurl\":\"http:\\/\\/wx.qlogo.cn\\/mmopen\\/BVyz4R8q6puJibEv1hrsaTmIKQhkaTS9FyvcevvC5hlxFnfOuspDjicG0GtzyJXOhNT7g1WZDeCDQhnRdEOgz3QMnP0F9iboQGy\\/0\",\"privilege\":[]}';\n        var data = JSON.parse(testData);\n        this.sendLoginRequest(data);\n\n    },\n\n    showWaitingMessage:function(msg) {\n        if (this.waitingNode != null && cc.sys.isNative && cc.isValid(this.waitingNode)) {\n          if (msg == this.waitingNode.getComponent('alert').getMessage()) {\n            return;\n          }\n            this.waitingNode.removeFromParent();\n            this.waitingNode = null;\n        }\n        this.waitingNode = cc.instantiate(this.waitingPrefab);\n        this.canvasNode.addChild(this.waitingNode);\n        var comp = this.waitingNode.getComponent('alert');\n        //console.log(comp);\n\n        comp.setMessage(msg);\n        comp.alert();\n    },\n\n    hiddenWaitingMessage:function() {\n        if (this.waitingNode != null) {\n            this.waitingNode.getComponent('alert').dismissAction();\n        }\n    },\n\n    protocolAction:function() {\n        cc.log('protocol action');\n    },\n});\n"
  ]
}